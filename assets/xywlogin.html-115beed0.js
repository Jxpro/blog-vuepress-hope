import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,e as t}from"./app-24ed71cb.js";const e={},p=t(`<h1 id="python脚本实现校园网自动登录" tabindex="-1"><a class="header-anchor" href="#python脚本实现校园网自动登录" aria-hidden="true">#</a> Python脚本实现校园网自动登录</h1><h2 id="一、代码模板" tabindex="-1"><a class="header-anchor" href="#一、代码模板" aria-hidden="true">#</a> 一、代码模板</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> requests

url <span class="token operator">=</span> <span class="token string">&#39;http://xywrz.hainanu.edu.cn/eportal/InterFace.do?method=login&#39;</span>
queryString <span class="token operator">=</span><span class="token string">&#39;xxx&#39;</span>

requestHeaders <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;Accept&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;*/*&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Accept-Encoding&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;gzip, deflate&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Accept-Language&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;zh-CN,zh;q=0.9&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Connection&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;keep-alive&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Content-Length&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;890&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Content-Type&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;application/x-www-form-urlencoded; charset=UTF-8&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Cookie&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;xxx&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Host&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;xywrz.hainanu.edu.cn&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Origin&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;http://xywrz.hainanu.edu.cn&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Referer&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;xxx&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;User-Agent&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36&#39;</span>
<span class="token punctuation">}</span>
formData <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;userId&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;2019xxxxxxxxxx&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;password&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;xxx&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;service&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;default&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;passwordEncrypt&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;true&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;queryString&#39;</span><span class="token punctuation">:</span> queryString  <span class="token comment"># 可能发生变化</span>
    <span class="token string">&#39;operatorUserId&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;operatorPwd&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>          <span class="token comment"># 可选</span>
	<span class="token string">&#39;validcode&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>            <span class="token comment"># 可选</span>
<span class="token punctuation">}</span>

response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>requestHeaders<span class="token punctuation">,</span> data<span class="token operator">=</span>formData<span class="token punctuation">)</span>
<span class="token comment"># print(response.status_code)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、设置开机自启" tabindex="-1"><a class="header-anchor" href="#二、设置开机自启" aria-hidden="true">#</a> 二、设置开机自启</h2><figure><img src="https://raw.githubusercontent.com/Jxpro/PicBed/master/md/2021/11/10-160131.png" alt="image-20211110160130238" tabindex="0" loading="lazy"><figcaption>image-20211110160130238</figcaption></figure><h2 id="三、运行时隐藏dos窗口" tabindex="-1"><a class="header-anchor" href="#三、运行时隐藏dos窗口" aria-hidden="true">#</a> 三、运行时隐藏DOS窗口</h2><p>方法1：<code>pythonw xxx.py</code> 方法2：将<code>.py</code>改成<code>.pyw</code> (这个其实就是使用脚本解析程序pythonw.exe)</p><p>跟 python.exe 比较起来，pythonw.exe 有以下的不同：</p><ol><li>执行时不会弹出控制台窗口（也叫 <code>DOS</code> 窗口）</li><li>所有向原有的 <code>stdout</code> 和 <code>stderr</code> 的输出都无效</li><li>所有从原有的 <code>stdin</code> 的读取都只会得到 <code>EOF</code></li></ol><p>注：唯独视窗版 Python 有 .pyw 格式。</p>`,10),i=[p];function o(c,l){return s(),a("div",null,i)}const d=n(e,[["render",o],["__file","xywlogin.html.vue"]]);export{d as default};
