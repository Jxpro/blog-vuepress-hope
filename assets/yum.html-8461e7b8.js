import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as t,c as a,e as n}from"./app-5e6e2e94.js";const d={},s=n(`<h1 id="yum指令的使用" tabindex="-1"><a class="header-anchor" href="#yum指令的使用" aria-hidden="true">#</a> yum指令的使用</h1><h2 id="一、常用命令" tabindex="-1"><a class="header-anchor" href="#一、常用命令" aria-hidden="true">#</a> 一、常用命令</h2><h3 id="_1-1-安装与卸载" tabindex="-1"><a class="header-anchor" href="#_1-1-安装与卸载" aria-hidden="true">#</a> 1.1 安装与卸载</h3><table><thead><tr><th style="text-align:center;">命令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">yum install xxx</td><td style="text-align:center;">安装安装包</td></tr><tr><td style="text-align:center;">yum remove xxx</td><td style="text-align:center;">卸载安装包</td></tr><tr><td style="text-align:center;">yum groupinsall xxx</td><td style="text-align:center;">安装程序组</td></tr><tr><td style="text-align:center;">yum groupremove xxx</td><td style="text-align:center;">卸载程序组</td></tr></tbody></table><h3 id="_1-2-升级" tabindex="-1"><a class="header-anchor" href="#_1-2-升级" aria-hidden="true">#</a> 1.2 升级</h3><table><thead><tr><th style="text-align:center;">命令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">yum check-update</td><td style="text-align:center;">检查可更新的程序</td></tr><tr><td style="text-align:center;">yum update xxx</td><td style="text-align:center;">更新指定程序包</td></tr><tr><td style="text-align:center;">yum upgrade xxx</td><td style="text-align:center;">升级指定程序包</td></tr><tr><td style="text-align:center;">yum update</td><td style="text-align:center;">全部更新</td></tr></tbody></table><h3 id="_1-3-查找" tabindex="-1"><a class="header-anchor" href="#_1-3-查找" aria-hidden="true">#</a> 1.3 查找</h3><table><thead><tr><th style="text-align:center;">命令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">yum search xxx</td><td style="text-align:center;">查找程序包</td></tr><tr><td style="text-align:center;">yum info</td><td style="text-align:center;">列出所有已安装程序包信息</td></tr><tr><td style="text-align:center;">yum info xxx</td><td style="text-align:center;">显示程序包信息</td></tr><tr><td style="text-align:center;">yum list</td><td style="text-align:center;">显示所有已经安装和可以安装的程序包</td></tr><tr><td style="text-align:center;">yum list xxx</td><td style="text-align:center;">显示指定程序包安装情况</td></tr><tr><td style="text-align:center;">yum list updates</td><td style="text-align:center;">列出所有可以更新的程序包</td></tr><tr><td style="text-align:center;">yum list installed</td><td style="text-align:center;">列出所有已安装的程序包</td></tr><tr><td style="text-align:center;">yum list extras</td><td style="text-align:center;">列出所有已安装但不在yum repository中的程序包</td></tr><tr><td style="text-align:center;">yum deplist xxx</td><td style="text-align:center;">查看指定程序包的依赖关系</td></tr><tr><td style="text-align:center;">yum search xx</td><td style="text-align:center;">查找指定程序包，会列出所有包含xxx的包名</td></tr></tbody></table><h3 id="_1-4-缓存" tabindex="-1"><a class="header-anchor" href="#_1-4-缓存" aria-hidden="true">#</a> 1.4 缓存</h3><table><thead><tr><th style="text-align:center;">命令</th><th style="text-align:center;">功能</th></tr></thead><tbody><tr><td style="text-align:center;">yum clean packages</td><td style="text-align:center;">清除缓存目录下的软件包</td></tr><tr><td style="text-align:center;">yum clean headers</td><td style="text-align:center;">清除缓存目录下的headers</td></tr><tr><td style="text-align:center;">yum clean oldheaders</td><td style="text-align:center;">清除缓存目录下旧的headers</td></tr><tr><td style="text-align:center;">yum clean [all]</td><td style="text-align:center;">清除缓存目录下的软件包及旧的headers</td></tr><tr><td style="text-align:center;">yum makecache</td><td style="text-align:center;">缓存服务器程序包信息</td></tr></tbody></table><h2 id="二、update和upgrade的区别" tabindex="-1"><a class="header-anchor" href="#二、update和upgrade的区别" aria-hidden="true">#</a> 二、update和upgrade的区别</h2><blockquote><p><s>yum -y update：升级所有包同时，也升级软件和系统内核；</s><s>yum -y upgrade：只升级所有包，不升级软件和系统内核，软件和内核保持原样。</s></p><p>以上说法是经网友测试<strong>可能是错误的</strong></p><p><code>yum update</code>和<code>yum upgrade</code>的功能是一样的，都是将package更新至软件源中的最新版</p><p>区别是<code>yum upgrade</code>会删除旧版本的package，而<code>yum update</code>则会保留</p><p><s>因此如果软件依赖旧版本的package，最好是使用 yum update，确保不会出现兼容问题</s></p></blockquote><p>个人认为最好<code>yum update</code>后 <strong>指定package名称</strong></p><p><strong>避免升级系统内核的方法</strong>：</p><p>直接修改配置文件<code>/etc/yum.conf</code>，在 [main] 配置添加配置项</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token assign-left variable">exclude</span><span class="token operator">=</span>kernel*
<span class="token assign-left variable">exclude</span><span class="token operator">=</span>centos-release*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、切换软件源" tabindex="-1"><a class="header-anchor" href="#三、切换软件源" aria-hidden="true">#</a> 三、切换软件源</h2><p>CentOS 7的镜像源文件的目录默认都在该路径下：/etc/yum.repos.d/</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /etc/yum.repos.d/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>备份</strong>原来的yum镜像源，如果出现错误可以恢复原配置</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>下载国内镜像源并重命名为 CentOS-Base.repo，将其作为当前系统的镜像源</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 阿里云镜像站</span>
<span class="token function">wget</span> <span class="token parameter variable">-O</span> /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo

<span class="token comment"># 网易镜像站</span>
<span class="token function">wget</span> <span class="token parameter variable">-O</span> /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS7-Base-163.repo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>清理缓存</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum clean all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>重新生成缓存</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum makecache
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,27),r=[s];function l(i,c){return t(),a("div",null,r)}const p=e(d,[["render",l],["__file","yum.html.vue"]]);export{p as default};
