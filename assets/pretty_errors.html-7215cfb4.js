import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{o as e,c as n,e as a}from"./app-24ed71cb.js";const s={},l=a(`<h1 id="pretty-errors-自定义错误信息" tabindex="-1"><a class="header-anchor" href="#pretty-errors-自定义错误信息" aria-hidden="true">#</a> pretty_errors 自定义错误信息</h1><p>这是一个用于美化python异常输出的模块，效果如下：</p><figure><img src="https://raw.githubusercontent.com/Jxpro/PicBed/master/md/2021/11/2021-11-26-181020.png" alt="example" tabindex="0" loading="lazy"><figcaption>example</figcaption></figure><h2 id="一、安装" tabindex="-1"><a class="header-anchor" href="#一、安装" aria-hidden="true">#</a> 一、安装</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pip <span class="token function">install</span> pretty_errors
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="二、使用" tabindex="-1"><a class="header-anchor" href="#二、使用" aria-hidden="true">#</a> 二、使用</h2><p>单文件使用只需在文件头部引入模块即可：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> pretty_errors
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果要避免重复引入，可在终端输入如下命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>python <span class="token parameter variable">-m</span> pretty_errors
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>同时，这种方式不仅方便，而且语法错误（<code>SyntaxError</code>）的格式也同样能被美化，如果是在程序中<code>import pretty_errors</code>时，这一点是无法实现的。</p><h2 id="三、配置选项" tabindex="-1"><a class="header-anchor" href="#三、配置选项" aria-hidden="true">#</a> 三、配置选项</h2><p><code>pretty_errors</code>支持<strong>高度自定义</strong>，以下为部分已知配置选项：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">默认值</th><th style="text-align:center;">作用</th></tr></thead><tbody><tr><td style="text-align:center;">arrow_head_character</td><td style="text-align:center;">^</td><td style="text-align:center;">指向具体语法错误位置的符号</td></tr><tr><td style="text-align:center;">arrow_tail_character</td><td style="text-align:center;">-</td><td style="text-align:center;">语法错误发生的语句下面铺垫的符号</td></tr><tr><td style="text-align:center;">display_arrow</td><td style="text-align:center;">True</td><td style="text-align:center;">使用如上语法错误指向的符号</td></tr><tr><td style="text-align:center;">display_link</td><td style="text-align:center;">False</td><td style="text-align:center;">展示出错模块（文件）的绝对路径</td></tr><tr><td style="text-align:center;">display_locals</td><td style="text-align:center;">False</td><td style="text-align:center;">显示出现在栈顶代码中的局部变量的值</td></tr><tr><td style="text-align:center;">display_timestamp</td><td style="text-align:center;">False</td><td style="text-align:center;">在堆栈顶部旁显示一个时间戳</td></tr><tr><td style="text-align:center;">display_trace_locals</td><td style="text-align:center;">False</td><td style="text-align:center;">显示出现在堆栈其他位置中的局部变量的值</td></tr><tr><td style="text-align:center;">exception_above</td><td style="text-align:center;">False</td><td style="text-align:center;"><code>Exception</code>信息显示在堆栈部分的位置</td></tr><tr><td style="text-align:center;">exception_below</td><td style="text-align:center;">True</td><td style="text-align:center;">功能与上面相同，但是需要保证互相取反</td></tr><tr><td style="text-align:center;">filename_display</td><td style="text-align:center;">..._COMPACT</td><td style="text-align:center;">文件名称显示的方式，有三个选项<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup></td></tr><tr><td style="text-align:center;">full_line_newline</td><td style="text-align:center;">False</td><td style="text-align:center;">当一行输出满了是否换行</td></tr><tr><td style="text-align:center;">infix</td><td style="text-align:center;">None</td><td style="text-align:center;">在每个堆栈信息的每条信息间插入的消息</td></tr><tr><td style="text-align:center;">inner_exception_message</td><td style="text-align:center;">None</td><td style="text-align:center;">每个堆栈信息间的消息</td></tr><tr><td style="text-align:center;">inner_exception_separator</td><td style="text-align:center;">False</td><td style="text-align:center;">每个堆栈信息间的消息是否加分隔符</td></tr><tr><td style="text-align:center;">line_length</td><td style="text-align:center;">0</td><td style="text-align:center;">与控制台宽度匹配时，需要禁用<code>full_line_newline</code>，防止出现双换行符</td></tr><tr><td style="text-align:center;">line_number_first</td><td style="text-align:center;">False</td><td style="text-align:center;">将行号放在模块名称前面</td></tr><tr><td style="text-align:center;">lines_after</td><td style="text-align:center;">0</td><td style="text-align:center;">显示出错表达式前面多少行的代码</td></tr><tr><td style="text-align:center;">lines_before</td><td style="text-align:center;">0</td><td style="text-align:center;">显示出错表达式后面多少行的代码</td></tr><tr><td style="text-align:center;">postfix</td><td style="text-align:center;">None</td><td style="text-align:center;">在每个堆栈信息结束后插入的内容</td></tr><tr><td style="text-align:center;">prefix</td><td style="text-align:center;">None</td><td style="text-align:center;">在每个堆栈信息开始前插入的内容</td></tr><tr><td style="text-align:center;">separator_character</td><td style="text-align:center;">&#39;-&#39;</td><td style="text-align:center;">在每个堆栈信息前插入的重复符号</td></tr></tbody></table><h2 id="四、颜色选项" tabindex="-1"><a class="header-anchor" href="#四、颜色选项" aria-hidden="true">#</a> 四、颜色选项</h2><p>预设常量：</p><table><thead><tr><th style="text-align:center;">Name</th><th style="text-align:center;">Value</th></tr></thead><tbody><tr><td style="text-align:center;">BLACK</td><td style="text-align:center;">\\033[0;30m</td></tr><tr><td style="text-align:center;">RED</td><td style="text-align:center;">\\033[0;31m</td></tr><tr><td style="text-align:center;">GREEN</td><td style="text-align:center;">\\033[0;32m</td></tr><tr><td style="text-align:center;">YELLOW</td><td style="text-align:center;">\\033[0;33m</td></tr><tr><td style="text-align:center;">BLUE</td><td style="text-align:center;">\\033[0;34m</td></tr><tr><td style="text-align:center;">MAGENTA</td><td style="text-align:center;">\\033[0;35m</td></tr><tr><td style="text-align:center;">CYAN</td><td style="text-align:center;">\\033[0;36m</td></tr><tr><td style="text-align:center;">WHITE</td><td style="text-align:center;">\\033[0;37m</td></tr></tbody></table><p>颜色选项：</p><table><thead><tr><th style="text-align:center;">字段</th><th style="text-align:center;">默认值</th><th style="text-align:center;">作用</th></tr></thead><tbody><tr><td style="text-align:center;">arrow_head_color</td><td style="text-align:center;">\\x1b[1;32m</td><td style="text-align:center;">指向语法错误的符号颜色</td></tr><tr><td style="text-align:center;">arrow_tail_color</td><td style="text-align:center;">\\x1b[1;32m</td><td style="text-align:center;">语法错误下面铺垫的符号颜色</td></tr><tr><td style="text-align:center;">code_color</td><td style="text-align:center;">\\x1b[1;30m</td><td style="text-align:center;"><code>lines_after</code>和<code>lines_before</code>部分代码颜色</td></tr><tr><td style="text-align:center;">exception_arg_color</td><td style="text-align:center;">\\x1b[1;33m</td><td style="text-align:center;">Exception异常参数颜色</td></tr><tr><td style="text-align:center;">exception_color</td><td style="text-align:center;">\\x1b[1;31m</td><td style="text-align:center;">Exception异常名称颜色</td></tr><tr><td style="text-align:center;">exception_file_color</td><td style="text-align:center;">\\x1b[1;35m</td><td style="text-align:center;">Exception异常文件颜色（如<code>FileNotFoundError</code>）</td></tr><tr><td style="text-align:center;">filename_color</td><td style="text-align:center;">\\x1b[1;36m</td><td style="text-align:center;">文件名称颜色</td></tr><tr><td style="text-align:center;">function_color</td><td style="text-align:center;">\\x1b[1;34m</td><td style="text-align:center;">函数名称颜色</td></tr><tr><td style="text-align:center;">line_number_color</td><td style="text-align:center;">\\x1b[1;32m</td><td style="text-align:center;">行号颜色（与上面连个在同一行）</td></tr><tr><td style="text-align:center;">header_color</td><td style="text-align:center;">\\x1b[1;30m</td><td style="text-align:center;"><code>separator_character</code>颜色</td></tr><tr><td style="text-align:center;">line_color</td><td style="text-align:center;">\\x1b[1;37m</td><td style="text-align:center;">出错表示式所在行颜色</td></tr><tr><td style="text-align:center;">link_color</td><td style="text-align:center;">\\x1b[1;30m</td><td style="text-align:center;">文件路径颜色</td></tr><tr><td style="text-align:center;">local_len_color</td><td style="text-align:center;">\\x1b[1;30m</td><td style="text-align:center;">被截短的长度的颜色</td></tr><tr><td style="text-align:center;">local_name_color</td><td style="text-align:center;">\\x1b[1;35m</td><td style="text-align:center;">局部变量名称颜色</td></tr><tr><td style="text-align:center;">local_value_color</td><td style="text-align:center;">\\x1b[m</td><td style="text-align:center;">局部变量值颜色</td></tr><tr><td style="text-align:center;">syntax_error_color</td><td style="text-align:center;">\\x1b[1;32m</td><td style="text-align:center;">语法错误部分颜色</td></tr><tr><td style="text-align:center;">timestamp_color</td><td style="text-align:center;">\\x1b[1;30m</td><td style="text-align:center;">时间戳颜色</td></tr></tbody></table><h2 id="五、我的自定义配置" tabindex="-1"><a class="header-anchor" href="#五、我的自定义配置" aria-hidden="true">#</a> 五、我的自定义配置</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>pretty_errors<span class="token punctuation">.</span>configure<span class="token punctuation">(</span>

        separator_character        <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
        full_line_newline          <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        display_locals             <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        display_link               <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">,</span>

        prefix                     <span class="token operator">=</span> <span class="token string">&#39;============================== ERROR &amp; STACK  START ==============================&#39;</span><span class="token punctuation">,</span>
        postfix                    <span class="token operator">=</span> <span class="token string">&#39;============================== ERROR &amp; STACK   END  ==============================\\n\\n&#39;</span><span class="token punctuation">,</span>

        header_color               <span class="token operator">=</span> <span class="token string">&#39;\\x1b[1;31m&#39;</span><span class="token punctuation">,</span>
        local_len_color            <span class="token operator">=</span> <span class="token string">&#39;\\x1b[1;37m&#39;</span><span class="token punctuation">,</span>
        filename_color             <span class="token operator">=</span> <span class="token string">&#39;\\x1b[1;36m&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;position  : &#39;</span><span class="token punctuation">,</span>
        link_color                 <span class="token operator">=</span> <span class="token string">&#39;\\x1b[1;34m&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;filePath  : &#39;</span><span class="token punctuation">,</span>
        line_color                 <span class="token operator">=</span> <span class="token string">&#39;\\x1b[1;37m&#39;</span> <span class="token operator">+</span> <span class="token string">&#39;expression: &#39;</span><span class="token punctuation">,</span>

        name <span class="token operator">=</span> <span class="token string">&quot;custom&quot;</span>  <span class="token comment"># name it whatever you want</span>
    <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p>pretty_errors.FILENAME_COMPACT，pretty_errors.FILENAME_EXTENDED，pretty_errors.FILENAME_FULL <a href="#footnote-ref1" class="footnote-backref">↩︎</a></p></li></ol></section>`,23),r=[l];function d(i,c){return e(),n("div",null,r)}const x=t(s,[["render",d],["__file","pretty_errors.html.vue"]]);export{x as default};
